import{_ as A}from"./D9YUMtzL.js";import w from"./CZQ1q976.js";import{d as y,c as d,o as l,b as r,a as t,m as D,u as o,D as O,k as h,h as g,t as u,X as q,g as M,n as j,Y as L,Z as b,e as $,_ as P,F,r as U,z as N,$ as k,w as V,T as S,a0 as E,p as Q,a1 as Z,l as G,i as H}from"./UOz9bPn-.js";import{f as C}from"./DwglZU8H.js";import{d as x,a as I,b as X,r as T,c as z,e as Y}from"./CljPmxiO.js";import{_ as R}from"./DlAUqK2U.js";import{u as J}from"./DX3r1CdD.js";const K={class:"navbar fixed justify-between z-40 px-4 bg-base-100 shadow-lg"},W={class:"flex items-center"},tt={key:0,class:"ml-2 text-base-content font-medium"},et={key:0,class:"absolute -top-2 -right-2 bg-primary text-primary-content text-xs font-bold rounded-full h-5 w-5 flex items-center justify-center"},ot=y({__name:"TopBar",setup(f){const s=()=>{q()};return(n,e)=>{const c=A,m=w;return l(),d("div",K,[r(c,{to:"/",class:"text-2xl font-bold font-cursive flex items-center mr-2 p-1",onContextmenu:e[0]||(e[0]=D(p=>("navigateTo"in n?n.navigateTo:o(O))("/admin"),["prevent"]))},{default:h(()=>e[1]||(e[1]=[t("span",{class:"transition-colors text-red-600 hover:text-red-500 hover:scale-105"},"LZ",-1),t("span",{class:"transition-colors text-sky-600 hover:text-sky-500"},"Market",-1)])),_:1,__:[1]}),t("button",{onClick:s,class:"btn ml-2 p-2 indicator relative flex items-center"},[t("div",W,[r(m,{name:o(x)>0?"mdi:cart":"mdi:cart-outline",size:"24"},null,8,["name"]),o(I)>0?(l(),d("span",tt,u(("formatAsMoney"in n?n.formatAsMoney:o(C))(o(I))),1)):g("",!0)]),o(x)>0?(l(),d("span",et,u(o(x)),1)):g("",!0)])])}}}),st=Object.assign(ot,{__name:"TopBar"}),nt={},at={class:"dock rounded-t-xl z-40 h-24"};function rt(f,s){const n=w,e=A;return l(),d("div",at,[r(e,{to:"/","active-class":"dock-active"},{default:h(()=>[r(n,{name:"mdi:store-outline",size:"25"}),s[0]||(s[0]=t("span",{class:"dock-label"},"Home",-1))]),_:1,__:[0]}),r(e,{to:"/categories","active-class":"dock-active"},{default:h(()=>[r(n,{name:"mdi:view-grid",size:"25"}),s[1]||(s[1]=t("span",{class:"dock-label"},"Categorias",-1))]),_:1,__:[1]}),r(e,{to:"/checkout","active-class":"dock-active"},{default:h(()=>[r(n,{name:"heroicons:inbox",size:"25"}),s[2]||(s[2]=t("span",{class:"dock-label"},"Checkout",-1))]),_:1,__:[2]})])}const it=Object.assign(R(nt,[["render",rt]]),{__name:"BottomBar"}),ct={class:"flex gap-3 p-4 bg-base-200 rounded-xl shadow-sm hover:shadow-lg transition-all border border-base-300/50"},lt={class:"flex-shrink-0"},dt=["src","alt"],mt={class:"flex-grow min-w-0"},ut={class:"flex justify-between items-start mb-1"},pt={class:"font-semibold text-sm leading-tight truncate pr-2"},_t={class:"flex justify-between items-end"},ft={class:"join"},bt={class:"btn btn-xs join-item no-animation cursor-default px-3 font-medium bg-base-100"},vt=["disabled"],ht={class:"text-right"},xt={class:"text-sm font-bold text-primary transition-colors"},gt={class:"text-xs text-base-content/60"},wt={key:0,class:"mt-2"},yt={class:"text-xs text-warning flex items-center gap-1 animate-pulse"},kt=y({__name:"Item",props:{product:{}},setup(f){const s=f,n=M(()=>s.product.quantity||1),e=M(()=>s.product.priceInCents*n.value),c=()=>{n.value<s.product.stock&&X(s.product)},m=()=>{n.value>1?T(s.product.id):confirm(`Remover ${s.product.title} do carrinho?`)&&T(s.product.id)},p=()=>{confirm(`Remover ${s.product.title} do carrinho?`)&&T(s.product.id,!0)};return(a,v)=>{const i=w;return l(),d("div",ct,[t("div",lt,[t("img",{src:a.product.imageUrl,alt:a.product.title,class:"w-16 h-16 object-cover rounded-lg transition-transform hover:scale-105"},null,8,dt)]),t("div",mt,[t("div",ut,[t("h3",pt,u(a.product.title),1),t("button",{onClick:p,class:"btn btn-ghost btn-xs text-error hover:bg-error/10 hover:text-error flex-shrink-0 transition-all",title:"Remover item"},[r(i,{name:"mdi:trash-can-outline",size:"14"})])]),t("div",_t,[t("div",ft,[t("button",{onClick:m,class:"btn btn-xs btn-outline join-item transition-colors hover:btn-error",title:"Diminuir quantidade"}," - "),t("span",bt,u(o(n)),1),t("button",{onClick:c,disabled:o(n)>=a.product.stock,class:j(["btn btn-xs btn-primary join-item transition-colors",{"btn-disabled":o(n)>=a.product.stock}]),title:"Aumentar quantidade"}," + ",10,vt)]),t("div",ht,[t("div",xt,u(("formatAsMoney"in a?a.formatAsMoney:o(C))(o(e))),1),t("div",gt,u(("formatAsMoney"in a?a.formatAsMoney:o(C))(a.product.priceInCents))+" un. ",1)])]),o(n)>=a.product.stock?(l(),d("div",wt,[t("div",yt,[r(i,{name:"mdi:alert",size:"12"}),v[0]||(v[0]=t("span",null,"Estoque máximo atingido",-1))])])):g("",!0)])])}}}),Ct=Object.assign(kt,{__name:"CartItem"}),$t={class:"drawer-side z-50"},Tt={class:"bg-base-100 text-base-content min-h-full w-80 md:w-96 p-4 rounded-l-xl shadow-2xl"},zt={class:"flex justify-between items-center mb-4"},jt={key:0,class:"text-sm text-base-content/60"},It={key:0,class:"flex flex-col items-center justify-center py-12 text-center"},At={key:1,class:"flex flex-col h-full"},Bt={class:"flex-grow overflow-y-auto max-h-96 pr-1"},Mt={class:"border-t border-base-300 py-4 mt-4 bg-base-200/50 -mx-4 px-4"},Dt={class:"flex justify-between items-center mb-3"},Nt={class:"flex justify-between items-center mb-4"},Rt={class:"text-xl font-bold text-primary"},Ot=y({__name:"Drawer",emits:["close"],setup(f){L(()=>{k.value&&(console.log("Drawer opened"),console.log("Need to refetch the products"))});const s=()=>{confirm("Tem certeza que deseja limpar todo o carrinho?")&&Y()};return(n,e)=>{const c=w,m=Ct,p=A;return l(),d("div",$t,[t("label",{for:"cart-drawer","aria-label":"close sidebar",class:"drawer-overlay",onClick:e[0]||(e[0]=D((...a)=>o(b)&&o(b)(...a),["prevent"]))}),t("div",Tt,[t("div",zt,[t("div",null,[e[3]||(e[3]=t("h2",{class:"text-lg font-bold"},"Carrinho",-1)),o(z).length>0?(l(),d("span",jt,u(o(x))+" "+u(o(x)===1?"item":"itens"),1)):g("",!0)]),t("button",{onClick:e[1]||(e[1]=(...a)=>o(b)&&o(b)(...a)),class:"btn btn-sm btn-circle"}," ✕ ")]),e[10]||(e[10]=t("div",{class:"divider"},null,-1)),o(z).length===0?(l(),d("div",It,[r(c,{name:"mdi:cart-outline",size:"64",class:"text-base-content/20 mb-4"}),e[5]||(e[5]=t("h3",{class:"text-lg font-semibold text-base-content/70 mb-2"}," Seu carrinho está vazio ",-1)),e[6]||(e[6]=t("p",{class:"text-sm text-base-content/50 mb-4"}," Adicione produtos para continuar suas compras ",-1)),t("button",{onClick:e[2]||(e[2]=(...a)=>o(b)&&o(b)(...a)),class:"btn btn-primary btn-sm"},[r(c,{name:"mdi:shopping",size:"16"}),e[4]||(e[4]=$(" Continuar comprando "))])])):(l(),d("div",At,[t("div",Bt,[r(P,{name:"list",tag:"div",class:"space-y-3",appear:""},{default:h(()=>[(l(!0),d(F,null,U(o(z),a=>(l(),N(m,{key:a.id,product:a},null,8,["product"]))),128))]),_:1})]),t("div",Mt,[t("div",Dt,[t("button",{onClick:s,class:"btn btn-ghost btn-sm text-error hover:bg-error/20"},[r(c,{name:"mdi:delete-outline",size:"16"}),e[7]||(e[7]=$(" Limpar carrinho "))])]),t("div",Nt,[e[8]||(e[8]=t("span",{class:"text-base font-medium"},"Total:",-1)),t("span",Rt,u(("formatAsMoney"in n?n.formatAsMoney:o(C))(o(I))),1)]),r(p,{to:"/checkout",class:"btn btn-primary btn-block",onClick:o(b)},{default:h(()=>[r(c,{name:"mdi:shopping",size:"20"}),e[9]||(e[9]=$(" Finalizar Pedido "))]),_:1,__:[9]},8,["onClick"])])]))])])}}}),qt=Object.assign(R(Ot,[["__scopeId","data-v-913bebf1"]]),{__name:"CartDrawer"}),Lt=y({__name:"Toast",props:{show:{type:Boolean},message:{},type:{default:"success"},duration:{default:3e3},position:{default:"top-end"}},emits:["update:show","close"],setup(f,{emit:s}){const n=f,e=s;let c=null;V(()=>n.show,i=>{i&&n.duration>0&&(c&&clearTimeout(c),c=setTimeout(()=>{m()},n.duration))}),S(()=>{c&&clearTimeout(c)});function m(){e("update:show",!1),e("close")}function p(i){switch(i){case"success":return"alert-success";case"error":return"alert-error";case"warning":return"alert-warning";case"info":return"alert-info";default:return"alert-info"}}function a(i){switch(i){case"success":return"mdi:check-circle";case"error":return"mdi:alert-circle";case"warning":return"mdi:alert";case"info":return"mdi:information";default:return"mdi:information"}}function v(i){const _="toast";switch(i){case"top-start":return`${_} toast-top toast-start`;case"top-center":return`${_} toast-top toast-center`;case"top-end":return`${_} toast-top toast-end`;case"bottom-start":return`${_} toast-bottom toast-start`;case"bottom-center":return`${_} toast-bottom toast-center`;case"bottom-end":return`${_} toast-bottom toast-end`;default:return`${_} toast-top toast-end`}}return(i,_)=>{const B=w;return l(),N(E,{to:"body"},[i.show?(l(),d("div",{key:0,class:j([v(i.position),"z-50"])},[t("div",{class:j(["alert",p(i.type)])},[r(B,{name:a(i.type),size:"20"},null,8,["name"]),t("span",null,u(i.message),1),t("button",{onClick:m,class:"btn btn-sm btn-circle btn-ghost"},[r(B,{name:"mdi:close",size:"16"})])],2)],2)):g("",!0)])}}}),Pt=Object.assign(Lt,{__name:"Toast"}),Ft={class:"drawer drawer-end"},Ut={class:"drawer-content"},Vt={class:"container px-2 mt-20 mb-24 mx-auto"},Yt=y({__name:"default",setup(f){const{toastState:s,hideToast:n}=J();return(e,c)=>{const m=st,p=it,a=qt,v=Pt;return l(),d("div",Ft,[Q(t("input",{id:"cart-drawer",type:"checkbox",class:"drawer-toggle","onUpdate:modelValue":c[0]||(c[0]=i=>G(k)?k.value=i:null)},null,512),[[Z,o(k)]]),t("div",Ut,[r(m),t("main",Vt,[H(e.$slots,"default")]),r(p)]),r(a),r(v,{show:o(s).show,message:o(s).message,type:o(s).type,duration:o(s).duration,position:o(s).position,"onUpdate:show":o(n),onClose:o(n)},null,8,["show","message","type","duration","position","onUpdate:show","onClose"])])}}});export{Yt as default};
