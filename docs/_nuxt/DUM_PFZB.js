import L from"./CZQ1q976.js";import{_ as $}from"./DlAUqK2U.js";import{c as l,o,F as f,r as w,a as c,x as z,d as F,y as k,g as v,w as j,z as p,b as E,p as M,v as R,u as t,l as U,h as b,t as G}from"./UOz9bPn-.js";import{_ as I,a as O,s as _}from"./BTLZvxLy.js";import{u as q}from"./B_V9sKPR.js";import{r as A}from"./DwglZU8H.js";import"./CljPmxiO.js";const H={},J={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 p-4"};function K(x,s){return o(),l("div",J,[(o(),l(f,null,w(10,n=>c("div",{key:n,class:"card bg-base-100 shadow-lg overflow-hidden animate-pulse"},s[0]||(s[0]=[z('<div class="absolute top-3 right-3 z-20"><div class="skeleton h-5 w-20 rounded-full"></div></div><div class="h-48 bg-base-300 skeleton"></div><div class="card-body p-4"><div class="skeleton h-4 w-16 rounded-full mb-2"></div><div class="skeleton h-5 w-3/4 mb-2"></div><div class="skeleton h-4 w-full mb-1"></div><div class="skeleton h-4 w-2/3 mb-4"></div><div class="flex justify-between items-center"><div><div class="skeleton h-6 w-20 mb-1"></div><div class="skeleton h-3 w-16"></div></div><div class="skeleton h-12 w-12 rounded-full"></div></div></div>',3)]))),64))])}const Q=Object.assign($(H,[["render",K]]),{__name:"ProductCardSkeleton"}),W={class:"input input-bordered flex items-center gap-2 w-full my-4"},X={key:1},Y={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5 gap-6 mb-6"},Z={key:1,class:"text-center my-8"},ee={class:"text-gray-500 break-words"},g=15,ce=F({__name:"(home)",setup(x){const s=k(""),n=A(s,300),{data:m,pending:P}=q("/api/v1/products/get/all",{key:"allProducts"},"$Sd0B2iNULD"),a=k(1),r=v(()=>!n.value||!m.value?m.value||[]:m.value.filter(e=>e.title.toLowerCase().includes(n.value.toLowerCase()))),d=v(()=>{var e;return Math.ceil((((e=r.value)==null?void 0:e.length)||0)/g)}),y=v(()=>{if(!r.value)return[];const e=(a.value-1)*g,i=e+g;return r.value.slice(e,i)}),C=e=>{e>=1&&e<=d.value&&(a.value=e,_())},N=()=>{a.value<d.value&&(a.value++,_())},S=()=>{a.value>1&&(a.value--,_())};return j(s,()=>{a.value=1}),(e,i)=>{var h;const T=L,B=Q,V=O,D=I;return o(),l(f,null,[c("label",W,[E(T,{name:"mdi:magnify",class:"opacity-50",size:"1.5em"}),M(c("input",{type:"search",name:"search","onUpdate:modelValue":i[0]||(i[0]=u=>U(s)?s.value=u:null),class:"grow",placeholder:"Estou procurando por..."},null,512),[[R,t(s)]])]),t(P)?(o(),p(B,{key:0})):(o(),l("div",X,[c("div",Y,[(o(!0),l(f,null,w(t(y),u=>(o(),p(V,{key:u.id,product:u},null,8,["product"]))),128))]),t(d)>1&&!t(s)?(o(),p(D,{key:0,"current-page":t(a),"total-pages":t(d),"total-items":t(r).length,onGoToPage:C,onNextPage:N,onPrevPage:S},null,8,["current-page","total-pages","total-items"])):b("",!0),((h=t(r))==null?void 0:h.length)===0?(o(),l("div",Z,[c("p",ee," Nenhum produto encontrado"+G(t(n)?` para: "${t(n)}"`:"")+". ",1)])):b("",!0)]))],64)}}});export{ce as default};
